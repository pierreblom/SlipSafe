# SlipSafe Pro - Master Development Guide

This document outlines the step-by-step process to build, secure, and deploy SlipSafe Pro.

---

## âœ… Phase 1: Foundation (Completed)
**Goal:** Get the prototype running locally.

1.  **Extract Code**: We took the raw code from `read.md` and created `index.html`.
2.  **Local Test**: You can now open `index.html` in your browser to see the interface.
    *   *Note: The AI features won't work yet without an API key.*

---

## ðŸš§ Phase 2: The "Vault" (Supabase Integration)
**Goal:** Securely store receipts in the cloud so they survive a browser clear.

### Step 1: Create a Supabase Project
1.  Go to [database.new](https://database.new) and sign in.
2.  Click **"New Project"**.
3.  Name it **"SlipSafe Pro"**.
4.  Set a strong database password (save this somewhere safe!).
5.  Choose a region close to you (e.g., AWS Cape Town if available, or closest).
6.  Click **"Create new project"**.

### Step 2: Get Your Keys
1.  Once the project is ready (green "Active" badge), go to **Project Settings** (cog icon) > **API**.
2.  Copy the **Project URL**.
3.  Copy the **anon public** key.
4.  **Action:** Provide these two values to me so I can configure the app.

### Step 3: Create the Database Table
1.  Go to the **SQL Editor** (terminal icon on the left).
2.  Paste and run this SQL to create your table:
    ```sql
    create table slips (
      id bigint generated by default as identity primary key,
      created_at timestamp with time zone default timezone('utc'::text, now()) not null,
      merchant text,
      total numeric,
      vat numeric,
      category text,
      date date,
      vat_number text,
      image_url text,
      is_tax_invoice boolean,
      user_id uuid default auth.uid()
    );
    ```

### Step 4: Create Storage Bucket
1.  Go to **Storage** (folder icon).
2.  Click **"New Bucket"**.
3.  Name it `receipt-proofs`.
4.  Toggle **"Public bucket"** to ON (for this prototype).
5.  Click **"Save"**.

---

## ðŸ”® Phase 3: Intelligence Upgrade
**Goal:** Make the app smarter than a basic scanner.

### Step 1: Duplicate Detection
*   **What:** We will add logic to check Supabase before saving.
*   **How:** "If a slip from *Woolworths* for *R450.00* on *2023-10-12* already exists, warn the user."

### Step 2: Tax Invoice Verification
*   **What:** Enforce SARS rules for valid tax invoices.
*   **How:**
    *   If `Total > R5000` AND `VAT Number` is missing â†’ Mark as **"Invalid Tax Invoice"**.
    *   If `Category` is "Entertainment" â†’ Force `Claimable VAT` to **R0.00**.

---

## ðŸš€ Phase 4: Deployment
**Goal:** Put the app on the internet so you can use it on your phone.

1.  **Netlify / Vercel**: We will drag-and-drop your `index.html` folder to Netlify.
2.  **Environment Variables**: We will set your API keys in the Netlify dashboard so they aren't exposed in the code.
3.  **Live URL**: You will get a link like `https://slipsafe-pro.netlify.app` to save to your phone's home screen.
